<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>API | History Navigation Vue</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/history-navigation-vue/logo-fav-end.png">
    <meta name="description" content="单页面应用上的多页导航">
    
    <link rel="preload" href="/history-navigation-vue/assets/css/0.styles.84a82f63.css" as="style"><link rel="preload" href="/history-navigation-vue/assets/js/app.f746d820.js" as="script"><link rel="preload" href="/history-navigation-vue/assets/js/2.bf6b2f71.js" as="script"><link rel="preload" href="/history-navigation-vue/assets/js/16.9ea163b8.js" as="script"><link rel="prefetch" href="/history-navigation-vue/assets/js/10.c4761d10.js"><link rel="prefetch" href="/history-navigation-vue/assets/js/11.3153fbf0.js"><link rel="prefetch" href="/history-navigation-vue/assets/js/12.60f3e5e8.js"><link rel="prefetch" href="/history-navigation-vue/assets/js/13.11e2f68c.js"><link rel="prefetch" href="/history-navigation-vue/assets/js/14.08d7ec60.js"><link rel="prefetch" href="/history-navigation-vue/assets/js/15.517f195d.js"><link rel="prefetch" href="/history-navigation-vue/assets/js/17.8ab6339c.js"><link rel="prefetch" href="/history-navigation-vue/assets/js/18.8668fced.js"><link rel="prefetch" href="/history-navigation-vue/assets/js/19.6a04a788.js"><link rel="prefetch" href="/history-navigation-vue/assets/js/3.8aa1c5ef.js"><link rel="prefetch" href="/history-navigation-vue/assets/js/4.b13487c2.js"><link rel="prefetch" href="/history-navigation-vue/assets/js/5.c5c33094.js"><link rel="prefetch" href="/history-navigation-vue/assets/js/6.4665718c.js"><link rel="prefetch" href="/history-navigation-vue/assets/js/7.e4a3849c.js"><link rel="prefetch" href="/history-navigation-vue/assets/js/8.9a0ea5cf.js"><link rel="prefetch" href="/history-navigation-vue/assets/js/9.fbdf3b62.js">
    <link rel="stylesheet" href="/history-navigation-vue/assets/css/0.styles.84a82f63.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/history-navigation-vue/zh/" class="home-link router-link-active"><img src="/history-navigation-vue/logo.png" alt="History Navigation Vue" class="logo"> <span class="site-name can-hide">History Navigation Vue</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/history-navigation-vue/zh/guide/" class="nav-link">
  指南
</a></div><div class="nav-item"><a href="/history-navigation-vue/zh/api/" class="nav-link">
  API
</a></div><div class="nav-item"><a href="/history-navigation-vue/zh/examples/" class="nav-link">
  示例
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/history-navigation-vue/api.html" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/history-navigation-vue/zh/api.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  简体中文
</a></li></ul></div></div> <a href="https://github.com/hezedu/history-navigation-vue" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/history-navigation-vue/zh/guide/" class="nav-link">
  指南
</a></div><div class="nav-item"><a href="/history-navigation-vue/zh/api/" class="nav-link">
  API
</a></div><div class="nav-item"><a href="/history-navigation-vue/zh/examples/" class="nav-link">
  示例
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/history-navigation-vue/api.html" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/history-navigation-vue/zh/api.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  简体中文
</a></li></ul></div></div> <a href="https://github.com/hezedu/history-navigation-vue" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>API</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/history-navigation-vue/zh/api.html#全局-api" class="sidebar-link">全局 API</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/history-navigation-vue/zh/api.html#plugin" class="sidebar-link">plugin</a></li><li class="sidebar-sub-header"><a href="/history-navigation-vue/zh/api.html#version" class="sidebar-link">version</a></li></ul></li><li><a href="/history-navigation-vue/zh/api.html#全局配置" class="sidebar-link">全局配置</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/history-navigation-vue/zh/api.html#pages" class="sidebar-link">pages</a></li><li class="sidebar-sub-header"><a href="/history-navigation-vue/zh/api.html#notfoundpage" class="sidebar-link">notFoundPage</a></li><li class="sidebar-sub-header"><a href="/history-navigation-vue/zh/api.html#tabbar" class="sidebar-link">tabBar</a></li><li class="sidebar-sub-header"><a href="/history-navigation-vue/zh/api.html#urlishashmode" class="sidebar-link">urlIsHashMode</a></li><li class="sidebar-sub-header"><a href="/history-navigation-vue/zh/api.html#urlbase" class="sidebar-link">urlBase</a></li><li class="sidebar-sub-header"><a href="/history-navigation-vue/zh/api.html#onrouted" class="sidebar-link">onRouted</a></li><li class="sidebar-sub-header"><a href="/history-navigation-vue/zh/api.html#navigatortriggerevent" class="sidebar-link">navigatorTriggerEvent</a></li><li class="sidebar-sub-header"><a href="/history-navigation-vue/zh/api.html#transition" class="sidebar-link">transition</a></li></ul></li><li><a href="/history-navigation-vue/zh/api.html#navigationcontroller" class="sidebar-link">&lt;NavigationController&gt;</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/history-navigation-vue/zh/api.html#entrypagepath" class="sidebar-link">entryPagePath</a></li></ul></li><li><a href="/history-navigation-vue/zh/api.html#page" class="sidebar-link">$page</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/history-navigation-vue/zh/api.html#el" class="sidebar-link">$el</a></li><li class="sidebar-sub-header"><a href="/history-navigation-vue/zh/api.html#props" class="sidebar-link">props</a></li></ul></li><li><a href="/history-navigation-vue/zh/api.html#onshow-onhide" class="sidebar-link">onShow / onHide</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/history-navigation-vue/zh/api.html#生命周期顺序" class="sidebar-link">生命周期顺序</a></li><li class="sidebar-sub-header"><a href="/history-navigation-vue/zh/api.html#性能" class="sidebar-link">性能</a></li></ul></li><li><a href="/history-navigation-vue/zh/api.html#navigator" class="sidebar-link">$navigator</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/history-navigation-vue/zh/api.html#push" class="sidebar-link">push</a></li><li class="sidebar-sub-header"><a href="/history-navigation-vue/zh/api.html#back" class="sidebar-link">back</a></li><li class="sidebar-sub-header"><a href="/history-navigation-vue/zh/api.html#replace" class="sidebar-link">replace</a></li><li class="sidebar-sub-header"><a href="/history-navigation-vue/zh/api.html#relaunch" class="sidebar-link">relaunch</a></li><li class="sidebar-sub-header"><a href="/history-navigation-vue/zh/api.html#switchtab" class="sidebar-link">switchTab</a></li></ul></li><li><a href="/history-navigation-vue/zh/api.html#navigator-2" class="sidebar-link">&lt;Navigator&gt;</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/history-navigation-vue/zh/api.html#type" class="sidebar-link">type</a></li><li class="sidebar-sub-header"><a href="/history-navigation-vue/zh/api.html#url" class="sidebar-link">url</a></li><li class="sidebar-sub-header"><a href="/history-navigation-vue/zh/api.html#steps" class="sidebar-link">steps</a></li><li class="sidebar-sub-header"><a href="/history-navigation-vue/zh/api.html#event" class="sidebar-link">event</a></li><li class="sidebar-sub-header"><a href="/history-navigation-vue/zh/api.html#isactive" class="sidebar-link">isActive</a></li><li class="sidebar-sub-header"><a href="/history-navigation-vue/zh/api.html#disabled" class="sidebar-link">disabled</a></li><li class="sidebar-sub-header"><a href="/history-navigation-vue/zh/api.html#transition-2" class="sidebar-link">transition</a></li></ul></li><li><a href="/history-navigation-vue/zh/api.html#transition-css" class="sidebar-link">Transition CSS</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/history-navigation-vue/zh/api.html#使用方法" class="sidebar-link">使用方法</a></li><li class="sidebar-sub-header"><a href="/history-navigation-vue/zh/api.html#behaviorclass" class="sidebar-link">behaviorClass</a></li><li class="sidebar-sub-header"><a href="/history-navigation-vue/zh/api.html#transitionclass" class="sidebar-link">transitionClass</a></li><li class="sidebar-sub-header"><a href="/history-navigation-vue/zh/api.html#pageclass" class="sidebar-link">pageClass</a></li><li class="sidebar-sub-header"><a href="/history-navigation-vue/zh/api.html#css-var" class="sidebar-link">CSS Var</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="api"><a href="#api" class="header-anchor">#</a> API</h1> <h2 id="全局-api"><a href="#全局-api" class="header-anchor">#</a> 全局 API</h2> <h3 id="plugin"><a href="#plugin" class="header-anchor">#</a> plugin</h3> <p>提拱一个插件供 Vue 安装， 全局配置将作为插件参数传入：</p> <div class="language-js extra-class"><pre class="language-js"><code>Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>historyNavigationVue<span class="token punctuation">.</span>plugin<span class="token punctuation">,</span> globalConfig<span class="token punctuation">)</span>
</code></pre></div><p><a href="#%E5%85%A8%E5%B1%80%E9%85%8D%E7%BD%AE">globalConfig</a> 见下面.</p> <h3 id="version"><a href="#version" class="header-anchor">#</a> version</h3> <p>提供字符串形式的安装版本号。</p> <h2 id="全局配置"><a href="#全局配置" class="header-anchor">#</a> 全局配置</h2> <ul><li><p>类型: <code>ConfigObject</code></p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">ConfigObject</span> <span class="token punctuation">{</span>
  pages<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span>PageConfig<span class="token operator">&gt;</span><span class="token punctuation">,</span>
  notFoundPage<span class="token operator">?</span><span class="token operator">:</span> NotFoundPageConfig<span class="token punctuation">,</span>
  tabBar<span class="token operator">?</span><span class="token operator">:</span> Object<span class="token punctuation">,</span>
  onRouted<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">Function</span><span class="token punctuation">,</span>
  
  <span class="token comment">// url options</span>
  urlIsHashMode<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">,</span>
  urlBase<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  <span class="token comment">// global options</span>
  pageIntervalOffsetX<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
  navigatorTriggerEvent<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul> <p><code>historyNavigationVue</code> 的全局配置。</p> <h3 id="pages"><a href="#pages" class="header-anchor">#</a> pages</h3> <ul><li>类型: <code>Array&lt;PageConfig&gt;</code><div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">PageConfig</span> <span class="token punctuation">{</span>
  path<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  component<span class="token operator">:</span> VueComponent<span class="token punctuation">,</span>
  title<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li>必填</li></ul> <p>页面列表。</p> <p><strong>示例:</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  pages<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      path<span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
      component<span class="token operator">:</span> <span class="token punctuation">{</span>
        template<span class="token operator">:</span> <span class="token string">'&lt;h1&gt;Hello Wrold!&lt;/h1&gt;'</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p><a href="https://hezedu.github.io/history-navigation-vue/examples/hello-world.html" target="_blank" rel="noopener noreferrer">预览<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="notfoundpage"><a href="#notfoundpage" class="header-anchor">#</a> notFoundPage</h3> <ul><li>类型: <code>NotFoundPageConfig</code><div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">NotFoundPageConfig</span> <span class="token punctuation">{</span>
  component<span class="token operator">:</span> VueComponent<span class="token punctuation">,</span>
  title<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li>默认:  简单的404页面。</li></ul> <p>如果 URL 没有匹配到任何页面，这个页面将会呈现。</p> <h3 id="tabbar"><a href="#tabbar" class="header-anchor">#</a> tabBar</h3> <ul><li>类型: <code>TabBarConfig</code><div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">TabBarConfig</span> <span class="token punctuation">{</span>
  list<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span>TabBarItem<span class="token operator">&gt;</span><span class="token punctuation">,</span>
  custom<span class="token operator">?</span><span class="token operator">:</span> VueComponent
<span class="token punctuation">}</span>
</code></pre></div></li></ul> <p>tabBar 模式。</p> <h4 id="tab_bar_list">list</h4> <ul><li>类型: <code>Array&lt;TabBarItem&gt;</code><div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">TabBarItem</span> <span class="token punctuation">{</span>
    pagePath<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
    text<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
    icon<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span>propName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">any</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul> <p>tab 列表. 长度必须大于 2。</p> <p>你可以设置任何属性，它将被传入自定义组件中。</p> <p><strong>示例:</strong></p> <div class="language-js extra-class"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br></div><pre class="language-js"><code><span class="token punctuation">{</span>
  pages<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      path<span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
      component<span class="token operator">:</span> <span class="token punctuation">{</span>
        template<span class="token operator">:</span> <span class="token string">'&lt;h1&gt;Home&lt;/h1&gt;'</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      path<span class="token operator">:</span> <span class="token string">'/me'</span><span class="token punctuation">,</span>
      component<span class="token operator">:</span> <span class="token punctuation">{</span>
        template<span class="token operator">:</span> <span class="token string">'&lt;h1&gt;Me&lt;/h1&gt;'</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  tabBar<span class="token operator">:</span> <span class="token punctuation">{</span>
    list<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span> pagePath<span class="token operator">:</span> <span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span> text<span class="token operator">:</span> <span class="token string">&quot;Home&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> pagePath<span class="token operator">:</span> <span class="token string">&quot;/me&quot;</span><span class="token punctuation">,</span> text<span class="token operator">:</span> <span class="token string">&quot;Me&quot;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><a href="https://hezedu.github.io/history-navigation-vue/examples/tabbar.html" target="_blank" rel="noopener noreferrer">预览<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>你可以通过修改 CSS 来改变选中样式：</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">.h-nav-tab.h-nav-active</span><span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #3eaf7c<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>示例: <a href="https://hezedu.github.io/history-navigation-vue/examples/tabbar-with-icon.html" target="_blank" rel="noopener noreferrer">TabBar 带图标<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>你可以通过修改 CSS 来改变它的定位：</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">.h-nav-tabs-wrap</span><span class="token punctuation">{</span>
  <span class="token property">padding-bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">padding-top</span><span class="token punctuation">:</span> 48px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.h-nav-tabbar</span><span class="token punctuation">{</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">bottom</span><span class="token punctuation">:</span> initial<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>示例: <a href="https://hezedu.github.io/history-navigation-vue/examples/tabbar-position-top.html" target="_blank" rel="noopener noreferrer">TabBar 在顶部<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="custom"><a href="#custom" class="header-anchor">#</a> custom</h4> <ul><li>类型: <code>VueComponent</code></li></ul> <p>如果默认的组件无法满足你的要求，你可以自定义，具体参考内置的组件：<a href="https://github.com/hezedu/history-navigation-vue/blob/main/src/cmpt/tab-bar.vue" target="_blank" rel="noopener noreferrer"> tab-bar.vue<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="urlishashmode"><a href="#urlishashmode" class="header-anchor">#</a> urlIsHashMode</h3> <ul><li><p>类型: <code>boolean</code></p></li> <li><p>默认:  <code>true</code></p> <p>是否使用 URL hash 值来作路由。 如果为 <code>true</code> URL 像 <code>/#/</code>, 否则 URL 就像 <code>/</code>.</p></li></ul> <h3 id="urlbase"><a href="#urlbase" class="header-anchor">#</a> urlBase</h3> <ul><li>类型: <code>string</code></li> <li>默认:  <code>&quot;&quot;</code>
应用的基路径，在 <code>urlIsHashMode</code> 时生效。例如，如果整个单页应用服务在 /app 下，然后 base 就应该设为 &quot;/app&quot;。</li></ul> <h3 id="onrouted"><a href="#onrouted" class="header-anchor">#</a> onRouted</h3> <p>type: <code>Function</code></p> <p><strong>onRouted(routedEvent)</strong></p> <ul><li><p>routedEvent</p> <ul><li>类型 <code>RoutedEvent</code><div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">RoutedEvent</span> <span class="token punctuation">{</span>
  title<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token comment">// current page' title.</span>
  routeFullPath<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token comment">// current page route' fullPath. (route not eq location)</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul></li></ul> <p>页面跳转后回调，在第一次加载时也会触发。</p> <p>可用来同步 document title 或一些流量统计。</p> <p><em>示例:</em></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token function">onRouted</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    document<span class="token punctuation">.</span>title <span class="token operator">=</span> e<span class="token punctuation">.</span>title<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><a href="https://hezedu.github.io/history-navigation-vue/examples/synchronize-document-title.html" target="_blank" rel="noopener noreferrer">预览<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="navigatortriggerevent"><a href="#navigatortriggerevent" class="header-anchor">#</a> navigatorTriggerEvent</h3> <ul><li><p>类型: <code>string</code></p></li> <li><p>默认:  <code>&quot;click&quot;</code></p> <p>声明可以用来触发导航的事件。</p> <p>这是 <code>&lt;Navigator&gt;</code> 组件一个全局参数: <a href="#event">event</a>.</p></li></ul> <h3 id="transition"><a href="#transition" class="header-anchor">#</a> transition</h3> <ul><li>类型: <code>string</code></li> <li>默认:  <code>h-nav-transition</code></li></ul> <p>这是 <a href="#transitionclass">transitionClass</a> 的全局配置。</p> <p>如果你不想要任何过渡效果，那把它设成 <code>&quot;&quot;</code>。</p> <h2 id="navigationcontroller"><a href="#navigationcontroller" class="header-anchor">#</a> <code>&lt;NavigationController&gt;</code></h2> <p>根容器， 负理包含并管理所有页面。</p> <p><strong>注意</strong>:默认它将会撑满父元素， 请确保父元素高度不为 <code>0</code>。
</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- Make sure that the height of the parent element is not 0 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NavigationController</span> <span class="token punctuation">/&gt;</span></span>

<span class="token comment">&lt;!-- Set parent height --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token style language-css"><span class="token property">height</span><span class="token punctuation">:</span> 100vh</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NavigationController</span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- Or directly set the style --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NavigationController</span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token style language-css"><span class="token property">height</span><span class="token punctuation">:</span> 100vh</span><span class="token punctuation">&quot;</span></span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><p><em><strong>Props:</strong></em></p> <h3 id="entrypagepath"><a href="#entrypagepath" class="header-anchor">#</a> entryPagePath</h3> <ul><li><p>类型: <code>string</code></p></li> <li><p>默认:  Get from the <code>window.location</code></p></li></ul> <p>哪一个页面将会首先显示。</p> <p>示例: <a href="https://hezedu.github.io/history-navigation-vue/examples/entry-page.html" target="_blank" rel="noopener noreferrer">入口页面<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="page"><a href="#page" class="header-anchor">#</a> $page</h2> <ul><li>类型: <code>Vue instance</code></li></ul> <p>当前组件所在的页面。</p> <p>所有操作都应基于 <code>$page</code>, 就像你之前基于 <code>$root</code> 一样。</p> <p>这是一个全局混合，所有页面下的组件都可获得。</p> <h3 id="el"><a href="#el" class="header-anchor">#</a> $el</h3> <p><code>$page</code> 的根 DOM 元素.</p> <p>所有 DOM 事件都应基于 <code>$page.$el</code>, 就像你之前基于 <code>document</code> 一样。</p> <p>示例: <a href="https://hezedu.github.io/history-navigation-vue/examples/page-event-handing.html" target="_blank" rel="noopener noreferrer">页面事件处理<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token style language-css"><span class="token property">height</span><span class="token punctuation">:</span> 300vh</span><span class="token punctuation">&quot;</span></span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">handlePageScroll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Page Scroll'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$page<span class="token punctuation">.</span>$el<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'scroll'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>handlePageScroll<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">destoryed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$page<span class="token punctuation">.</span>$el<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'scroll'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>handlePageScroll<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="props"><a href="#props" class="header-anchor">#</a> props</h3> <h4 id="title"><a href="#title" class="header-anchor">#</a> title</h4> <ul><li>类型: <code>string</code> 页面全局设置中的 title.</li></ul> <h4 id="route"><a href="#route" class="header-anchor">#</a> Route</h4> <p>解析好的路由信息。</p> <ul><li>类型: <code id="type_route">Route</code></li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Route</span> <span class="token punctuation">{</span>
  path<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  fullPath<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  trimedPath<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  query<span class="token operator">:</span> Object<span class="token punctuation">;</span>    <span class="token comment">// Parsed object of route's search string.</span>
                    <span class="token comment">// `&quot;?id=1&amp;type=2&quot;` =&gt; `{id: &quot;1&quot;, type: &quot;2&quot;}`</span>
<span class="token punctuation">}</span>
</code></pre></div><p>示例: <a href="/history-navigation-vue/https:/hezedu.github.io/history-navigation-vue/examples/page-get-query.html">页面获取参数</a></p> <h4 id="path"><a href="#path" class="header-anchor">#</a> path</h4> <ul><li>类型: <code>string</code> 页面全局设置中的 path, notFoundPage 忽略.</li></ul> <h4 id="istab"><a href="#istab" class="header-anchor">#</a> isTab</h4> <ul><li>类型: <code>boolean</code> 是否是 tab 页面。</li></ul> <h4 id="tabindex"><a href="#tabindex" class="header-anchor">#</a> tabIndex</h4> <ul><li>类型: <code>number</code> 如果是 tab 页面, 它对应的页面在全局配置 tabBar 的 <a href="#tab_bar_list">list</a>中的数组索引。否则忽略。</li></ul> <h2 id="onshow-onhide"><a href="#onshow-onhide" class="header-anchor">#</a> onShow / onHide</h2> <p>页面新的生命周期钩子。</p> <ul><li><p><code>onShow</code>: 当页面已挂载(mounted), 或者已返回(比如点浏览器后退按钮), 它将会触发。</p> <ul><li><code>$page.$el</code> 的样式将会是： <code>display: block</code>.</li></ul></li> <li><p><code>onHide</code>: 当页面离开(比如：使用 $navigator.push 方法跳转到一个新页面) 或销毁之前(beforeDestory), 它将会触发。</p> <ul><li><p>在过渡完成后, <code>$page.$el</code> 的样式将会变成 <code>display: none</code>.</p></li> <li><p>如果没有过渡, <code>$page.$el</code> 的样式将会立即 <code>display: none</code>。</p></li></ul></li></ul> <h3 id="生命周期顺序"><a href="#生命周期顺序" class="header-anchor">#</a> 生命周期顺序</h3> <h4 id="当页面第一次生成时"><a href="#当页面第一次生成时" class="header-anchor">#</a> 当页面第一次生成时：</h4> <p><code>mounted</code> -&gt; <code>onShow</code></p> <h4 id="当页面返回时"><a href="#当页面返回时" class="header-anchor">#</a> 当页面返回时：</h4> <p><code>onShow</code></p> <h4 id="当页面离开时"><a href="#当页面离开时" class="header-anchor">#</a> 当页面离开时：</h4> <p><code>onHide</code></p> <h4 id="当页面即将销毁"><a href="#当页面即将销毁" class="header-anchor">#</a> 当页面即将销毁：</h4> <p><code>onHide</code>(if not yet hidden) -&gt; <code>beforeDestroy</code></p> <p><strong>注意:</strong> <code>onHide</code> 会始终在页面销毁之前触发, 就像一个已聚焦的 DOM input blur 事件会在它 remove 之前触发。</p> <p>::: 警告
如果你必须绑定一个全局事件，请在 <code>onShow</code> 时绑定，然后在 <code>onHide</code> 时解绑。
:::
示例:<a href="https://hezedu.github.io/history-navigation-vue/examples/global-event-handing.html" target="_blank" rel="noopener noreferrer">全局事件处理<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="性能"><a href="#性能" class="header-anchor">#</a> 性能</h3> <p>当 <code>onHide</code> 时, the <code>$el</code> 将会从布局流中删除. 它不会影响其它页面，即使它有 10,000 个 DOM.</p> <p>通常只显示一页。只在页面过渡时，才会有两个页面同时显示。</p> <h2 id="navigator"><a href="#navigator" class="header-anchor">#</a> $navigator</h2> <p>路由导航器，绑定在 Vue 原型上。</p> <p><em><strong>Methods:</strong></em></p> <h3 id="push"><a href="#push" class="header-anchor">#</a> push</h3> <p><strong>$navigator.push(url)</strong></p> <ul><li>url
<ul><li><p>类型: <code>string | NavigatorUrlObject</code></p></li> <li><p>必填</p></li></ul></li></ul> <p>保留当前页面，跳转到应用内的某个页面。但是不能跳到 tabbar 页面。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$navigator<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="with-more-options"><a href="#with-more-options" class="header-anchor">#</a> With More options:</h4> <p>Type declaration for <code id="typeNavigatorUrlObject">NavigatorUrlObject</code>:</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">NavigatorUrlObject</span> <span class="token punctuation">{</span>
url<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
query<span class="token operator">?</span><span class="token operator">:</span> Object<span class="token punctuation">,</span>
transition<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token comment">// See the Transition CSS API.</span>
<span class="token punctuation">}</span>
</code></pre></div><p>transition 见: <a href="#transitionclass">transitionClass</a></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$navigator<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  url<span class="token operator">:</span> <span class="token string">'/foo'</span><span class="token punctuation">,</span>
  query<span class="token operator">:</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  transition<span class="token operator">:</span> <span class="token string">'some-special-class'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="back"><a href="#back" class="header-anchor">#</a> back</h3> <p><strong>$navigator.back([steps], [transition])</strong></p> <ul><li><p><code>steps</code></p> <ul><li><p>类型: <code>number</code></p></li> <li><p>默认:  <code>1</code></p></li></ul></li> <li><p><code>transition</code></p> <ul><li>类型: <code>string</code></li></ul></li></ul> <p>关闭当前页面，返回上一页面或多级页面。</p> <p>transition see: <a href="#transitionclass">transitionClass</a></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$navigator<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$navigator<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="replace"><a href="#replace" class="header-anchor">#</a> replace</h3> <p><strong>$navigator.replace(url)</strong></p> <ul><li>url
<ul><li>类型: <code>string | NavigatorUrlObject</code></li> <li>必填</li></ul></li></ul> <p>关闭当前页面，跳转到应用内的某个页面。但是不允许跳转到 tabbar 页面。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$navigator<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/replace'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="relaunch"><a href="#relaunch" class="header-anchor">#</a> relaunch</h3> <p><strong>$navigator.relaunch(url)</strong></p> <ul><li>url
<ul><li>类型: <code>string | NavigatorUrlObject</code></li> <li>必填</li></ul></li></ul> <p>关闭所有页面，打开到应用内的某个页面。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$navigator<span class="token punctuation">.</span><span class="token function">relaunch</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="switchtab"><a href="#switchtab" class="header-anchor">#</a> switchTab</h3> <p><strong>$navigator.switchTab(tabPageUrl)</strong></p> <ul><li>tabPageUrl
<ul><li>类型: <code>string | NavigatorUrlObject</code></li> <li>必填</li></ul></li></ul> <p>跳转到 tabBar 页面，并关闭其他所有非 tabBar 页面。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$navigator<span class="token punctuation">.</span><span class="token function">switchTab</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="navigator-2"><a href="#navigator-2" class="header-anchor">#</a> <code>&lt;Navigator&gt;</code></h2> <p><code>$navigator</code> 的便利组件。</p> <p><em><strong>Props:</strong></em></p> <h3 id="type"><a href="#type" class="header-anchor">#</a> type</h3> <ul><li><p>类型: <code>string</code></p></li> <li><p>默认:  <code>&quot;push&quot;</code></p></li> <li><p>可选值: <code>&quot;push&quot; | &quot;back&quot; | &quot;replace&quot; | &quot;relaunch&quot; | &quot;switchTab&quot;</code></p></li></ul> <h3 id="url"><a href="#url" class="header-anchor">#</a> url</h3> <ul><li><p>类型: <code>string</code></p></li> <li><p>必填: 当 type 不为 back 时: <code>true</code></p></li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Navigator</span> <span class="token attr-name">url</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/foo<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Push to foo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Navigator</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Navigator</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>back<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Back<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Navigator</span><span class="token punctuation">&gt;</span></span>  <span class="token comment">&lt;!-- back ignore url --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Navigator</span> <span class="token attr-name">url</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/foo<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>replace<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Replace to foo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Navigator</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Navigator</span> <span class="token attr-name">url</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/foo<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>relaunch<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Relaunch to foo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Navigator</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Navigator</span> <span class="token attr-name">url</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/foo<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>switchTab<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>switchTab to foo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Navigator</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="steps"><a href="#steps" class="header-anchor">#</a> steps</h3> <ul><li><p>类型: <code>number</code></p></li> <li><p>默认:  <code>1</code></p></li></ul> <p>返回的页面数。type 为 &quot;back&quot; 时有效。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Navigator</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>back<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:steps</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>back2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Navigator</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="event"><a href="#event" class="header-anchor">#</a> event</h3> <ul><li><p>类型: <code>string</code></p></li> <li><p>默认:  Inherit global config's <a href="#navigatortriggerevent">navigatorTriggerEvent</a></p></li></ul> <p>声明可以用来触发导航的事件。</p> <h3 id="isactive"><a href="#isactive" class="header-anchor">#</a> isActive</h3> <ul><li><p>类型: <code>boolean</code></p></li> <li><p>默认:  <code>false</code></p></li></ul> <p>如果为 <code>true</code> 事件将不会触发，一个 class <code>&quot;h-nav-active&quot;</code> 将会被添加。</p> <h3 id="disabled"><a href="#disabled" class="header-anchor">#</a> disabled</h3> <ul><li><p>类型: <code>boolean</code></p></li> <li><p>默认:  <code>false</code></p></li></ul> <p>如果为 <code>true</code> 事件将不会触发，一个 class <code>&quot;h-nav-disabled&quot;</code> 将会被添加。</p> <h3 id="transition-2"><a href="#transition-2" class="header-anchor">#</a> transition</h3> <ul><li>类型: <code>string</code></li></ul> <p>设置不同的过渡效果。详情<a href="#transitionclass">见下面</a>.</p> <h2 id="transition-css"><a href="#transition-css" class="header-anchor">#</a> Transition CSS</h2> <p>基于 CSS 的页面过渡效果。</p> <p>使用三大基类: <a href="#behaviorclass">behaviorClass</a>, <a href="#behaviorclass">behaviorClass</a>, <a href="#pageclass">pageClass</a>, 你可以设置成千上万的过渡效果。</p> <h3 id="使用方法"><a href="#使用方法" class="header-anchor">#</a> 使用方法</h3> <ul><li><p><strong>基于 CSS transition 属性</strong></p> <p>首先：设置 transition 属性。</p> <p><strong>behaviorClass</strong> &gt; <strong>transitionClass</strong></p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">.h-nav-behavior-replace &gt; .h-nav-transition</span><span class="token punctuation">{</span>
  <span class="token property">transition</span><span class="token punctuation">:</span> all 1s ease<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>然后设置触发样式, 两种方向后缀可选 <code>-enter</code>, <code>-leave-to</code>:</p> <p><strong>behaviorClass</strong> &gt; <strong>transitionClass</strong> &gt; <strong>pageClass</strong>-enter <em>或</em><br> <strong>behaviorClass</strong> &gt; <strong>transitionClass</strong> &gt; <strong>pageClass</strong>-leave-to</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">.h-nav-behavior-replace &gt; .h-nav-transition &gt; .h-nav-page-enter</span> <span class="token punctuation">{</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.h-nav-behavior-replace &gt; .h-nav-transition &gt; .h-nav-page-leave-to</span> <span class="token punctuation">{</span>
  <span class="token property">top</span><span class="token punctuation">:</span> -33%<span class="token punctuation">;</span>
  <span class="token property">opacity</span><span class="token punctuation">:</span> .67<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul> <p>示例: <a href="https://hezedu.github.io/history-navigation-vue/examples/transition-extend-and-custom-default.html" target="_blank" rel="noopener noreferrer">扩展和自定义默认过渡<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li><p><strong>基于 CSS animation 属性</strong></p> <p>首先：设置 <code>animation</code> 属性(不要有 animation-name):</p> <p><code>behaviorClass &gt; transitionClass</code></p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">.h-nav-behavior-replace &gt; .my-ani</span><span class="token punctuation">{</span>
  <span class="token property">animation-duration</span><span class="token punctuation">:</span> 1s<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>然后设置 animation-name, 两种方向后缀可选 <code>-enter-active</code>, <code>-leave-active</code>:</p> <p><strong>behaviorClass</strong> &gt; <strong>transitionClass</strong> &gt; <strong>pageClass</strong>-enter-active <em>或</em><br> <strong>behaviorClass</strong> &gt; <strong>transitionClass</strong> &gt; <strong>pageClass</strong>-leave-active</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">.h-nav-behavior-replace &gt; .my-ani &gt; .h-nav-page-enter-active</span><span class="token punctuation">{</span>
  <span class="token property">animation-name</span><span class="token punctuation">:</span> rotateInUpLeft<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.h-nav-behavior-replace &gt; .my-ani &gt; .h-nav-page-leave-active</span><span class="token punctuation">{</span>
  <span class="token property">animation-name</span><span class="token punctuation">:</span> rotateOutUpLeft<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>示例: <a href="https://hezedu.github.io/history-navigation-vue/examples/transition-with-amimate.html" target="_blank" rel="noopener noreferrer">结合 amimate.css 过渡<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li></ul> <h3 id="behaviorclass"><a href="#behaviorclass" class="header-anchor">#</a> behaviorClass</h3> <h4 id="page-behavior"><a href="#page-behavior" class="header-anchor">#</a> Page Behavior</h4> <p>class 前缀: <code>h-nav-behavior-</code></p> <ul><li><p><strong>loaded</strong></p> <p>当 <code>&lt;NavigationController&gt;</code> 首次加载。</p> <p><em>默认无过渡</em>.</p></li> <li><p><strong>push</strong></p> <p>当使用导航器 push 方法。</p></li> <li><p><strong>back</strong></p> <p>当 HTML5 历史后退(history.back).</p></li> <li><p><strong>replace</strong></p> <p>当使用导航器 replace 方法。</p></li> <li><p><strong>relunch</strong></p> <p>当使用导航器 relunch 方法。</p></li> <li><p><strong>switchtab</strong></p> <p>当使用导航器 switchTab(注意字母大小写) 方法。</p> <p><em>默认无过渡</em>.</p></li> <li><p><strong>forward</strong></p> <p>当 HTML5 历史前进(history.forward).  <strong>请忽略它</strong>.</p> <p><em>默认无过渡</em>.</p></li></ul> <h4 id="tab-behavior"><a href="#tab-behavior" class="header-anchor">#</a> Tab Behavior</h4> <p>class 前缀: <code>h-nav-tab-behavior-</code></p> <p><a href="#tab-page">Tab 页</a> 才有的行为, 当 tab page 相互切换时发生。</p> <p><em>All 默认无过渡</em>.</p> <ul><li><p><strong>reduce</strong></p> <p>从大索引切换到小索引。比如当前 tab <strong>2</strong>，点击 tab <strong>1</strong>。</p></li> <li><p><strong>increase</strong></p> <p>从小索引切换到大索引。比如当前 tab <strong>1</strong>，点击 tab <strong>2</strong>。</p></li></ul> <h3 id="transitionclass"><a href="#transitionclass" class="header-anchor">#</a> transitionClass</h3> <p>由全局配置或导航器的 transition 选项设置。</p> <p>默认: <code>h-nav-transition</code>. 详见: <a href="https://github.com/hezedu/history-navigation-vue/blob/main/src/css/transition.css" target="_blank" rel="noopener noreferrer">transition.css<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>::: 警告
如果你用导航器 push 方法并设置了过渡，你也得设置 back 行为的过渡。应为当你无参数回退时(相当于手动点击浏览器后退键)，它将跟随之前进入的效果类名。
:::</p> <h3 id="pageclass"><a href="#pageclass" class="header-anchor">#</a> pageClass</h3> <h4 id="page-2"><a href="#page-2" class="header-anchor">#</a> Page</h4> <p>class 前缀: <code>h-nav-page-</code></p> <h4 id="tab-page"><a href="#tab-page" class="header-anchor">#</a> Tab Page</h4> <p>class 前缀: <code>h-nav-tab-page-</code></p> <p>只作用于 <a href="#tab-behavior">Tab Behavior</a>.</p> <p>示例: <a href="https://hezedu.github.io/history-navigation-vue/examples/transition-of-tab-pages-slide.html" target="_blank" rel="noopener noreferrer">tab 的滑动过渡<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="css-var"><a href="#css-var" class="header-anchor">#</a> CSS Var</h3> <p>本项目还提供了一些 CSS 变量还用于过渡的加速度效果。</p> <ul><li><p><code>--h-nav-distance</code></p> <p>两个页面间的距离。比如当使用 <code>this.$navigator.back(2)</code>, 该变量将会是 <code>-2</code>.</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">.h-nav-behavior-back &gt; .h-nav-transition &gt; .h-nav-page-enter</span><span class="token punctuation">{</span>
  <span class="token property">left</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>100% * <span class="token function">var</span><span class="token punctuation">(</span>--h-nav-distance<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p><code>--h-nav-tab-distance</code></p> <p>两个 tab 页面间的距离。比如当前 tab 是 <code>3</code>, 点击 tab <code>1</code>, 该变量将会是 <code>2</code>.</p></li></ul> <p><strong>注意:</strong> 关于 <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/var()" target="_blank" rel="noopener noreferrer">CSS variables<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, 一些老旧浏览器可能不支持(安卓 Webview 要 版本 5 以上), 但是并不重要，本来就是锦上添花的事。</p> <p>示例: <a href="https://hezedu.github.io/history-navigation-vue/examples/transition-of-tab-pages-slide-css-var.html" target="_blank" rel="noopener noreferrer">tab 的滑动过渡(使用了CSS Var)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">2021-6-1 22:31:09</span></div></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/history-navigation-vue/assets/js/app.f746d820.js" defer></script><script src="/history-navigation-vue/assets/js/2.bf6b2f71.js" defer></script><script src="/history-navigation-vue/assets/js/16.9ea163b8.js" defer></script>
  </body>
</html>
